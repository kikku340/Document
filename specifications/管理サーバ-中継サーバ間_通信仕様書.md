# 管理サーバ-中継サーバ間_通信仕様書

## 目次
- [用語](#用語)
- [基本仕様](#基本仕様)
- [中継サーバ→管理サーバ](#中継サーバ→管理サーバ)
  - [JSONフォーマット](#JSONフォーマット)
- [管理サーバ→中継サーバ](#管理サーバ→中継サーバ)

## 用語

- 管理サーバ : 自動巻き上げ機の制御を管理するPC
- 中継サーバ : 管理サーバとクライアントの橋渡しをするPC
- クライアント : 実際にアクチュエータを制御する機器
- 農場 : 耕作を行う土地のこと

## 基本仕様

本仕様書では、管理サーバと中継サーバの通信仕様について記載する。


## 中継サーバ→管理サーバ

中継サーバから管理サーバへのデータ送信はJSON形式で行う。

### JSONフォーマット

| key | 型名 | Size(Byte) | 説明 |
|:----|:----:|:----------:|:-----|
| `data` | 配列 | | 各エリア(ハウス)の情報 |
| `no` | 数値 | 1 | ハウスNo |
| `devices` | 配列 | | ハウスNoに属する機器のデータ |
| `id` | 数値 | 1 |エリア(ハウス)内ID |
| `type` | 数値 | 1 | クライアント種別ID |
| `status` | 数値 | 2 | 動作状態 |
| `error` | 文字列 | | エラーメッセージ(エラーがない場合は空) |

sample
```json
{
  "data": [
    "no": 1,
    "devices": [
      "id": 0,
      "type": 1,
      "status": 10,
      "error": ""
    ]
  ]
}
```



## 管理サーバ→中継サーバ





